-- // SMOOTH MOBILE ACCEL (ANTI-FLY) //
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

_G.AccelEnabled = false
_G.MaxPower = 350 -- Kecepatan maksimal yang ingin dicapai
_G.CurrentSpeed = 0 -- Mulai dari 0 agar tidak kaget/terbang

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui", game:GetService("CoreGui"))
local Btn = Instance.new("TextButton", ScreenGui)
Btn.Size = UDim2.new(0, 150, 0, 50)
Btn.Position = UDim2.new(0.05, 0, 0.4, 0)
Btn.Text = "ACCEL MOD: OFF"
Btn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Btn.TextColor3 = Color3.new(1, 1, 1)
Instance.new("UICorner", Btn)

Btn.MouseButton1Click:Connect(function()
    _G.AccelEnabled = not _G.AccelEnabled
    Btn.Text = "ACCEL MOD: " .. (_G.AccelEnabled and "ON" or "OFF")
    Btn.BackgroundColor3 = _G.AccelEnabled and Color3.fromRGB(0, 200, 255) or Color3.fromRGB(30, 30, 30)
    if not _G.AccelEnabled then _G.CurrentSpeed = 0 end
end)

RunService.Heartbeat:Connect(function()
    if _G.AccelEnabled then
        local char = LocalPlayer.Character
        local hum = char and char:FindFirstChildOfClass("Humanoid")
        
        if hum and hum.SeatPart and hum.SeatPart:IsA("VehicleSeat") then
            local seat = hum.SeatPart
            
            -- Deteksi jika Anda menekan gas di tablet (Kecepatan asli > 2)
            if seat.AssemblyLinearVelocity.Magnitude > 2 or seat.Throttle ~= 0 then
                -- Menambah kecepatan secara bertahap (Akselerasi halus)
                if _G.CurrentSpeed < _G.MaxPower then
                    _G.CurrentSpeed = _G.CurrentSpeed + 2 -- Ditambah 2 setiap frame (tidak langsung 300)
                end
                
                -- Memberikan dorongan sesuai arah mobil agar tidak terbang
                local direction = seat.Throttle ~= 0 and seat.Throttle or 1
                seat.AssemblyLinearVelocity = seat.CFrame.LookVector * (direction * _G.CurrentSpeed)
            else
                -- Jika gas dilepas, turunkan speed perlahan
                _G.CurrentSpeed = math.max(0, _G.CurrentSpeed - 5)
            end
        end
    end
end)
